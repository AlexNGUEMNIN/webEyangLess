"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1566],{1566:(v,d,r)=>{r.r(d),r.d(d,{UpdateSupplementsPage:()=>b});var p=r(467),c=r(177),m=r(4341),a=r(6087),e=r(4438),g=r(8880);function _(s,i){if(1&s){const l=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"ion-label",15),e.EFF(3),e.k0s()(),e.j41(4,"ion-toggle",16),e.mxI("ngModelChange",function(t){const n=e.eBV(l).$implicit;return e.DH7(n.value,t)||(n.value=t),e.Njj(t)}),e.k0s()()}if(2&s){const l=i.$implicit;e.R7$(3),e.JRh(l.label),e.R7$(),e.R50("ngModel",l.value)}}function f(s,i){if(1&s){const l=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"ion-label",15),e.EFF(3),e.k0s()(),e.j41(4,"div",17)(5,"ion-toggle",16),e.mxI("ngModelChange",function(t){const n=e.eBV(l).$implicit;return e.DH7(n.value,t)||(n.value=t),e.Njj(t)}),e.k0s(),e.j41(6,"ion-button",18),e.bIt("click",function(){const t=e.eBV(l).$implicit,n=e.XpG(2);return e.Njj(n.removeCustomSupplement(t.id))}),e.nrm(7,"ion-icon",19),e.k0s()()()}if(2&s){const l=i.$implicit;e.R7$(3),e.JRh(l.label),e.R7$(2),e.R50("ngModel",l.value)}}function h(s,i){if(1&s&&(e.j41(0,"div",8),e.DNE(1,f,8,2,"div",9),e.k0s()),2&s){const l=e.XpG();e.R7$(),e.Y8G("ngForOf",l.customSupplements)}}let b=(()=>{var s;class i{constructor(o,t,n){this.navCtrl=o,this.alertCtrl=t,this.toastCtrl=n,this.defaultSupplements=[{id:"1",label:"Restaurant",value:!1},{id:"2",label:"Salle de jeux",value:!1},{id:"3",label:"Salle des f\xeates",value:!1},{id:"4",label:"Pressing",value:!1},{id:"5",label:"Boutique",value:!1},{id:"6",label:"Piscine",value:!1}],this.customSupplements=[]}ngOnInit(){this.loadSupplements()}goBack(){this.navCtrl.back()}saveSupplements(){var o=this;return(0,p.A)(function*(){try{const t=[...o.defaultSupplements.filter(n=>n.value),...o.customSupplements.filter(n=>n.value)];console.log("Suppl\xe9ments s\xe9lectionn\xe9s:",t),yield o.showToast("Suppl\xe9ments sauvegard\xe9s avec succ\xe8s","success"),o.goBack()}catch(t){console.error("Erreur lors de la sauvegarde:",t),yield o.showToast("Erreur lors de la sauvegarde","danger")}})()}addCustomSupplement(){var o=this;return(0,p.A)(function*(){yield(yield o.alertCtrl.create({header:"Nouveau suppl\xe9ment",message:"Veuillez saisir le nom du nouveau suppl\xe9ment",inputs:[{name:"label",type:"text",placeholder:"Ex: Spa, Coiffeur, etc."}],buttons:[{text:"Annuler",role:"cancel"},{text:"Ajouter",handler:n=>{if(n.label&&""!==n.label.trim()){const u={id:Date.now().toString(),label:n.label.trim(),value:!1};return o.customSupplements.push(u),o.showToast("Suppl\xe9ment ajout\xe9 avec succ\xe8s","success"),!0}return o.showErrorAlert("Veuillez saisir un nom valide"),!1}}]})).present()})()}removeCustomSupplement(o){var t=this;return(0,p.A)(function*(){yield(yield t.alertCtrl.create({header:"Confirmer la suppression",message:"\xcates-vous s\xfbr de vouloir supprimer ce suppl\xe9ment ?",buttons:[{text:"Annuler",role:"cancel"},{text:"Supprimer",handler:()=>(t.customSupplements=t.customSupplements.filter(u=>u.id!==o),t.showToast("Suppl\xe9ment supprim\xe9","success"),!0)}]})).present()})()}loadSupplements(){}showToast(o){var t=this;return(0,p.A)(function*(n,u="success"){yield(yield t.toastCtrl.create({message:n,duration:2e3,position:"bottom",color:u,buttons:[{text:"OK",role:"cancel"}]})).present()}).apply(this,arguments)}showErrorAlert(o){var t=this;return(0,p.A)(function*(){yield(yield t.alertCtrl.create({header:"Erreur",message:o,buttons:["OK"]})).present()})()}getSelectedCount(){return this.defaultSupplements.filter(n=>n.value).length+this.customSupplements.filter(n=>n.value).length}hasSelectedSupplements(){return this.getSelectedCount()>0}}return(s=i).\u0275fac=function(o){return new(o||s)(e.rXU(g.q9),e.rXU(a.hG),e.rXU(a.K_))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-update-supplements"]],standalone:!0,features:[e.aNF],decls:21,vars:2,consts:[["slot","start"],["fill","clear",3,"click"],["name","arrow-back","color","primary"],["slot","end"],["name","checkmark","color","primary"],[1,"supplements-content"],[1,"content-wrapper"],[1,"section-header"],[1,"supplements-list"],["class","supplement-item",4,"ngFor","ngForOf"],["class","supplements-list",4,"ngIf"],[1,"fixed-bottom-button"],["expand","block",1,"custom-button",3,"click"],[1,"supplement-item"],[1,"supplement-info"],[1,"supplement-label"],[1,"custom-toggle",3,"ngModelChange","ngModel"],[1,"supplement-actions"],["fill","clear","size","small","color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(o,t){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return t.goBack()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Suppl\xe9ments"),e.k0s(),e.j41(7,"ion-buttons",3)(8,"ion-button",1),e.bIt("click",function(){return t.saveSupplements()}),e.nrm(9,"ion-icon",4),e.k0s()()()(),e.j41(10,"ion-content",5)(11,"div",6)(12,"div",7)(13,"h2"),e.EFF(14,"Commun"),e.k0s()(),e.j41(15,"div",8),e.DNE(16,_,5,2,"div",9),e.k0s(),e.DNE(17,h,2,1,"div",10),e.k0s(),e.j41(18,"div",11)(19,"ion-button",12),e.bIt("click",function(){return t.addCustomSupplement()}),e.EFF(20," Ajouter un suppl\xe9ment "),e.k0s()()()),2&o&&(e.R7$(16),e.Y8G("ngForOf",t.defaultSupplements),e.R7$(),e.Y8G("ngIf",t.customSupplements.length>0))},dependencies:[a.he,a.iq,a.Jm,a.QW,a.W9,a.eU,a.BC,a.ai,c.MD,c.Sq,c.bT,m.YN,m.BC,m.vS],styles:["[_ngcontent-%COMP%]:root{--custom-primary: #07B29E;--custom-primary-rgb: 7, 178, 158;--custom-primary-contrast: #ffffff;--custom-primary-contrast-rgb: 255, 255, 255;--custom-primary-shade: #069080;--custom-primary-tint: #20bba8}.supplements-content[_ngcontent-%COMP%]{--background: #f8f9fa}.supplements-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:20px 16px 100px}.section-header[_ngcontent-%COMP%]{margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0}.supplements-list[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;margin-bottom:16px}.supplement-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #f0f0f0;min-height:60px}.supplement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.supplement-item[_ngcontent-%COMP%]   .supplement-info[_ngcontent-%COMP%]{flex:1}.supplement-item[_ngcontent-%COMP%]   .supplement-info[_ngcontent-%COMP%]   .supplement-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#1a1a1a;margin:0}.supplement-item[_ngcontent-%COMP%]   .supplement-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.custom-toggle[_ngcontent-%COMP%]{--color: var(--custom-primary);--color-checked: var(--custom-primary);--handle-background-checked: #ffffff;--background-checked: var(--custom-primary);--handle-background: #ffffff;--background: #e0e0e0;--handle-width: 26px;--handle-height: 26px;--track-width: 50px;--track-height: 30px}ion-toolbar[_ngcontent-%COMP%]{--background: #ffffff;--color: #1a1a1a;--border-color: #e0e0e0}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;text-align:center}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--custom-primary)}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-button[color=danger][_ngcontent-%COMP%]{--color: #dc3545}ion-button[color=danger][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:16px;border-top:1px solid #e0e0e0;box-shadow:0 -2px 10px #0000001a;z-index:1000}.fixed-bottom-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 25px;--color: white;font-weight:600;height:50px}"]}),i})()}}]);