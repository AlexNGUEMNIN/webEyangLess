"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[960],{960:(x,l,i)=>{i.r(l),i.d(l,{PhoneVerificationPage:()=>b});var u=i(467),r=i(4341),c=i(6087),f=i(5079),d=i(5873),e=i(4438),h=i(6766),m=i(177),_=i(2628);let b=(()=>{var s;class p{constructor(n,t,o,a){this.router=n,this.location=t,this.authService=o,this.alertCtrl=a,this.email="",(0,f.a)({chevronBackOutline:d.fKZ,mail:d.kiB})}sendVerificationCode(){if(this.email&&this.email.length>=9){console.log("Code de v\xe9rification envoy\xe9 \xe0 :",this.email);let n=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("temp-user")))),t={nom:n.nom,prenom:n.prenom,email:n.email,password:n.password,telephone:n.telephone};if(console.log(t),"bailleur"==n.type)this.authService.addBailleur(t).subscribe({next:o=>{console.log("Bailleur enregistr\xe9 avec succ\xe8s",o)},error:o=>{console.error("Pas moyen d'enregistrer le bailleur",o)}});else{if("locataire"!=n.type)return void this.showAlert("Erreur","Une erreur est survenue.");this.authService.addLocataire(t).subscribe({next:o=>{console.log("Locataire enregistr\xe9e avec succ\xe8s",o)},error:o=>{console.error("Pas moyen d'enregsitrer le locataire",o)}})}localStorage.setItem("email",this.email),this.showAlert("Information","Veuillez consulter votre bo\xeet mail pour r\xe9cup\xe9rer le code OTP"),this.router.navigate(["/code-verification"])}}goBack(){this.location.back()}showAlert(n,t){var o=this;return(0,u.A)(function*(){yield(yield o.alertCtrl.create({header:n,message:t,buttons:["Ok"]})).present()})()}}return(s=p).\u0275fac=function(n){return new(n||s)(e.rXU(h.Ix),e.rXU(m.aZ),e.rXU(_.u),e.rXU(c.hG))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-phone-verification"]],standalone:!0,features:[e.aNF],decls:23,vars:2,consts:[[1,"phone-content"],[1,"phone-container"],[1,"header"],[1,"back-button",3,"click"],["name","chevron-back-outline"],[1,"logo-container"],["src","/assets/logo EyangLess.png","alt","",2,"width","100px"],[1,"page-title"],[1,"progress-dots"],[1,"dot"],[1,"dot","active"],[1,"main-content"],[1,"instruction-text"],[1,"phone-form",3,"ngSubmit"],[1,"phone-input-container"],[1,"country-code"],["name","mail"],["type","tel","placeholder","Email","name","email",1,"phone-input",3,"ngModelChange","ngModel"],["type","submit",1,"done-button",3,"disabled"]],template:function(n,t){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return t.goBack()}),e.nrm(4,"ion-icon",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"img",6),e.k0s(),e.j41(7,"h2",7),e.EFF(8,"Inscrivez-vous"),e.k0s(),e.j41(9,"div",8),e.nrm(10,"span",9)(11,"span",9)(12,"span",10),e.k0s()(),e.j41(13,"div",11)(14,"p",12),e.EFF(15," Veuillez entrer de nouveau votre email pour recevoir le code de v\xe9rification. "),e.k0s(),e.j41(16,"form",13),e.bIt("ngSubmit",function(){return t.sendVerificationCode()}),e.j41(17,"div",14)(18,"div",15),e.nrm(19,"ion-icon",16),e.k0s(),e.j41(20,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(t.email,a)||(t.email=a),a}),e.k0s()(),e.j41(21,"button",18),e.EFF(22," Termin\xe9 "),e.k0s()()()()()),2&n&&(e.R7$(20),e.R50("ngModel",t.email),e.R7$(),e.Y8G("disabled",!t.email||t.email.length<9))},dependencies:[r.YN,r.qT,r.me,r.BC,r.cb,r.vS,r.cV,c.W9,c.iq],styles:['@charset "UTF-8";.phone-content[_ngcontent-%COMP%]{--background: #ffffff}.phone-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{text-align:center;padding:60px 20px 40px;background:#fff;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;left:20px;top:70px;background:none;border:none;color:#10b981;font-size:24px;cursor:pointer;padding:8px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.logo-container[_ngcontent-%COMP%]{margin-bottom:30px}.brand-name[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#fff;margin:0;letter-spacing:-.5px}.page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#10b981;margin:0 0 20px}.progress-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:20px}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#e5e7eb;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background-color:#10b981;width:24px;border-radius:4px}.main-content[_ngcontent-%COMP%]{flex:1;padding:40px 20px 20px;display:flex;flex-direction:column}.instruction-text[_ngcontent-%COMP%]{font-size:16px;color:#374151;text-align:center;line-height:1.5;margin-bottom:40px}.phone-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.phone-input-container[_ngcontent-%COMP%]{display:flex;border:1.5px solid #e5e7eb;border-radius:12px;overflow:hidden;background-color:#fff;transition:border-color .3s ease}.phone-input-container[_ngcontent-%COMP%]:focus-within{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.country-code[_ngcontent-%COMP%]{padding:16px;background-color:#f9fafb;border-right:1px solid #e5e7eb;font-size:16px;color:#374151;font-weight:500;display:flex;align-items:center}.phone-input[_ngcontent-%COMP%]{flex:1;padding:16px;border:none;outline:none;font-size:16px;background-color:transparent}.phone-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.done-button[_ngcontent-%COMP%]{width:100%;padding:18px;background:linear-gradient(135deg,#1dd1a1,#10b981);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;margin-top:40px;box-shadow:0 4px 12px #10b9814d}.done-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 16px #10b98166}.done-button[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed;transform:none;box-shadow:none}.done-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}@media (max-width: 375px){.header[_ngcontent-%COMP%]{padding:50px 16px 30px}.main-content[_ngcontent-%COMP%]{padding:30px 16px 16px}.brand-name[_ngcontent-%COMP%]{font-size:28px}.page-title[_ngcontent-%COMP%]{font-size:22px}.back-button[_ngcontent-%COMP%]{left:16px;top:60px}}@media (min-height: 812px){.header[_ngcontent-%COMP%]{padding-top:80px}.back-button[_ngcontent-%COMP%]{top:90px}}']}),p})()}}]);